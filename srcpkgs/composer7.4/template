# Template file for 'composer7.4'
pkgname=composer7.4
version=2.5.4
revision=1
build_style=fetch
depends="php7.4"
short_desc="Dependency manager for PHP"
maintainer="Felipe Nogueira <contato.fnog@gmail.com>"
license="MIT"
homepage="https://getcomposer.org/"
changelog="https://raw.githubusercontent.com/composer/composer/main/CHANGELOG.md"
distfiles="https://github.com/composer/composer/releases/download/${version}/composer.phar
 https://raw.githubusercontent.com/composer/composer/main/LICENSE"
checksum="91ce6cbf9463eae86ae9d5c21d42faa601a519f3fbb2b623a55ee24678079bd3
 7855ac293067aebe7e51afdd23b9dea54b8be24187dbecc9b9142581c37f596c"

do_install() {
        vbin composer.phar composer
        vlicense LICENSE

        vmkdir /etc/php/conf.d
        printf 'extension=%s\n' phar iconv openssl zip \
                 >${DESTDIR}/etc/php/conf.d/composer.ini
}
