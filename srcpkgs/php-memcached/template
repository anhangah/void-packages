# Template file for 'php-memcached'
pkgname=php-memcached
version=3.2.0
revision=1
wrksrc="memcached-${version}"
build_style=gnu-configure
configure_args="--with-php-config=php-config
 --with-libmemcached-dir=/usr
 --with-zlib-dir=/usr
 --with-system-fastlz=no
 --enable-memcached-igbinary=no
 --enable-memcached-msgpack=no
 --enable-memcached-json=no
 --enable-memcached-protocol=no
 --enable-memcached-sasl=yes
 --enable-memcached-session=yes"
hostmakedepends="autoconf php-devel pkg-config"
makedepends="libmemcached-devel php-devel zlib-devel"
depends="php>=7.0.0"
short_desc="PHP extension for interfacing with memcached via libmemcached library"
maintainer="Carlos E. Gallo F. <gcarlos@disroot.org>"
license="PHP-3.01"
homepage="https://pecl.php.net/package/memcached"
changelog="https://pecl.php.net/package-changelog.php?package=memcached"
distfiles="https://pecl.php.net/get/memcached-${version}.tgz"
checksum=2a41143a7b29f4a962a3805b77aa207a99e4566e2d314ce98a051cd24d6e9636

pre_configure() {
	phpize
}

do_install() {
	vinstall modules/memcached.so 755 /usr/lib/php/modules/
	vlicense LICENSE
}
